<!DOCTYPE html>
<html style="font-size: 64.6875px">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Expenditure</title>

    <!-- <link href="css/bootstrap.min.css"  rel="stylesheet">
    <link href="font-awesome/css/font-awesome.css"  rel="stylesheet">
    <link href="css/animate.css"  rel="stylesheet">
    <link href="css/style.css" rel="stylesheet"> -->
    <!-- Mainly scripts -->
    <!-- <script src="js/jquery-3.1.1.min.js"  type= "text/javascript"></script>  -->
    
    <!-- Expenditure 页面 css style -->
    <link href="../css/common.css" rel="stylesheet">
    <link href="../css/expenditure.css" rel="stylesheet">
    
    <!-- Bootstrap 及 js 引用 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>
    
    <!-- vue CDN引入 -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
    <script src="../js/vue.js"></script>

    <!-- element UI 引入 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

    <!-- 引入echarts -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/wonderland.js"></script>
    
</head>

<body id="protoPreview" class=" overflowHidden">
	
    <div class="body-wrapper">
    	<div class="phone-view-box">
    		<div class="model-wrapper" style="transform: scale(0.72);">
    			<div class="mobile-model"></div>
    		</div>
    		<div id="appContainer" class="mobile-wrapper">
    			<div id="pageContainer" class="pageContainer" data-scale="72">
                    <!-- vue -->
    				<div id="app">
                        <div class = "topBox_background">
                            <div class = "topBox" id="jump_to_MyBalance"> 
                                <div>
                                    <object data="../img/MyBalance/图标 171.svg" type="image/svg+xml" class = "icon"></object>
                                </div>
                                <div class = "text">
                                    My Balance
                                </div>
                            </div>
                        </div>
                    
                        <div class = "middle_box">
                            <div class = "date_picker">
                                <el-date-picker
                                    v-model="value1"
                                    type="date"
                                    placeholder="value1"
                                    size = "mini">
                                </el-date-picker>
                            </div>
                    
                            <div class = "tabs">
                                <el-tabs v-model="activeTab" @tab-click="handleClick" :stretch="true">
                                    <!-- expenditure page -->
                                    <el-tab-pane label="Expenditure" name="first">
                                        <!-- scroll bar -->
                                        <div class="scroll">
                                            <div class="line_chart">
                                                <div id="line" 
                                                style="width: 349px;
                                                height:200px;
                                                left: 26px;"></div>
                                            </div>
                                            <div>
                                                <hr class="cross_line">
                                            </div>
                                            <div class="pie_chart">
                                                <div id="pie" 
                                                style="width: 349px;
                                                height:200px;
                                                left: 26px;"></div>
                                            </div>
                                            <div>
                                                <hr class="cross_line">
                                            </div>
                                           
                                            <div class="dataTitle">Ranking</div>
                                            <!-- <br> -->
                                            <div class="dataloop">
                                                <div v-for="item in dataListExpenditure" :key="item.name">
                                                    <div class = "singleItem">
                                                        <el-row>
                                                            <el-col :span="4"><div class="grid-content bg-purple">
                                                                <div class="moneyIcom">
                                                                    <object :data=item.logo type="image/svg+xml" class = "moneyIcon"></object>
                                                                </div>
                                                            </div></el-col>
                                                            <el-col :span="12"><div class="grid-content bg-purple-light">
                                                                <el-row>
                                                                    <div class="name">
                                                                        {{ item.name }}
                                                                    </div>
                                                                </el-row>
                                                                <el-row>
                                                                    <div class="kind">
                                                                        {{ item.kind }}
                                                                    </div>
                                                                </el-row>
                                                                <el-row>
                                                                    <div class="kind">
                                                                        {{ item.time }}
                                                                    </div>
                                                                </el-row>
                                                            </div></el-col>
                                                            <el-col :span="8"><div class="grid-content bg-purple-light">
                                                                <div class="amount">
                                                                    {{ item.amount }}
                                                                </div>
                                                            </div></el-col>
    
                                                          </el-row>                                
                                                    </div>
                                                    <div>
                                                        <hr class="cross_line">
                                                    </div>
                                                </div>
                                                
    
                                            </div>
                                        </div>
                                    </el-tab-pane>
                                    <!-- income page -->
                                    <el-tab-pane label="Income" name="second">
                                        <!-- scroll bar -->
                                        <div class="scroll">
                                            <div class="line_chart">
                                                <div id="line1" 
                                                style="width: 349px;
                                                height:200px;
                                                left: 26px;"></div>
                                            </div>
                                            <div>
                                                <hr class="cross_line">
                                            </div>
                                            <div class="pie_chart">
                                                <div id="pie1" 
                                                style="width: 349px;
                                                height:200px;
                                                left: 26px;"></div>
                                            </div>
                                            <div>
                                                <hr class="cross_line">
                                            </div>
                                           
                                            <div class="dataTitle">Ranking</div>
                                            <!-- <br> -->
                                            <div class="dataloop">
                                                <div v-for="item in dataListIncome" :key="item.name">
                                                    <div class = "singleItem">
                                                        <el-row>
                                                            <el-col :span="4"><div class="grid-content bg-purple">
                                                                <div class="moneyIcom">
                                                                    <object :data=item.logo type="image/svg+xml" class = "moneyIcon"></object>
                                                                </div>
                                                            </div></el-col>
                                                            <el-col :span="12"><div class="grid-content bg-purple-light">
                                                                <el-row>
                                                                    <div class="name">
                                                                        {{ item.name }}
                                                                    </div>
                                                                </el-row>
                                                                <el-row>
                                                                    <div class="kind">
                                                                        {{ item.kind }}
                                                                    </div>
                                                                </el-row>
                                                                <el-row>
                                                                    <div class="kind">
                                                                        {{ item.time }}
                                                                    </div>
                                                                </el-row>
                                                            </div></el-col>
                                                            <el-col :span="8"><div class="grid-content bg-purple-light">
                                                                <div class="amount">
                                                                    {{ item.amount }}
                                                                </div>
                                                            </div></el-col>
    
                                                          </el-row>                                
                                                    </div>
                                                    <div>
                                                        <hr class="cross_line">
                                                    </div>
                                                </div>
                                                
    
                                            </div>
                                        </div>
                                    </el-tab-pane>
                                </el-tabs>
                            </div>
                        </div>
                    
                    </div>
    			</div>
    		</div>
    	</div>
       
    </div>


</body>



<script type="text/javascript">
    var app = new Vue({
        el: '#app',

        data(){
            return{
                // date picker value
                value1: '',

                // 默认选中标签
                activeTab: 'first',

                // 获取数据
                dataListExpenditure:[
                    {name:"ABC Movie",kind:"Entertainment",time:"Today 15:11",amount:"-80.00 HKD", logo:"../img/MyBalance/5.svg"},
                    {name:"Southern Fund",kind:"Investment",time:"Today 16:22",amount:"-30.00 HKD", logo:"../img/MyBalance/3.svg"},
                    {name:"ABC Coffee",kind:"Food",time:"Today 17:21",amount:"-80.00 HKD", logo:"../img/MyBalance/4.svg"},
                    {name:"BBBC News",kind:"Study",time:"Today 18:31",amount:"-30.00 HKD", logo:"../img/MyBalance/6.svg"},
                    {name:"ABC Market",kind:"Food",time:"Today 19:17",amount:"-80.00 HKD", logo:"../img/MyBalance/8.svg"},
                ],
                dataListIncome:[
                    {name:"Salary",kind:"Daily Income",time:"Today 12:11",amount:"+45433.00 HKD", logo:"../img/MyBalance/2.svg"},
                    {name:"Rent",kind:"Investment",time:"Today 20:21",amount:"+12000.00 HKD",logo:"../img/MyBalance/1.svg"},
                    {name:"Nanfang Fund",kind:"Investment",time:"Today 22:11",amount:"+30.00 HKD",logo:"../img/MyBalance/3.svg"},
                    
                ],
            }
        },
        

        created:
            function(){
               this.value1 = Date.now();
            },

        methods:{
            // tabs 切换
            handleClick(tab, event) {
                console.log(tab, event);
            },

        }


    })

    // jump to myBalance
    var obj = document.getElementById('jump_to_MyBalance');
    obj.onclick=function(){  
        window.location.href="./myBalance.html";          
    }

    function drawLineChart(){
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('line'), 'wonderland');

        var arr = [];//用来存放最近七天的时间
        
        // 获取近一周时间
        function getBeforeDate(n) {
            var n = n;
            console.log(n);//
            var d = new Date();
            var year = d.getFullYear();
            var mon = d.getMonth() + 1;
            var day = d.getDate();
            if(day <= n) {
                if(mon > 1) {
                    mon = mon - 1;
                } else {
                    year = year - 1;
                    mon = 12;
                }
            }
            d.setDate(d.getDate() + n); //很重要，+n取得是前一天的时间
            year = d.getFullYear();
            mon = d.getMonth() + 1;
            day = d.getDate();
            s = (mon < 10 ? ('0' + mon) : mon) + "-" + (day < 10 ? ('0' + day) : day);
            return s;
        }
    
        for(var i = 0; i > -7; i--) {
            arr.push(getBeforeDate(i));
    
        }

        // 指定图表的配置项和数据
        var option = {
            title: {
                text: 'Daily Expenditure',
                textStyle:{
                    fontSize: 17,
                    color: 'rgba(128, 128, 128, 1)',
                    fontWeight: 'bold',
                    fontFamily: 'PingFang SC'
                }
            },
            grid:{
                y2: 20,
            },
            xAxis: {
                type: 'category',
                data: arr.reverse(),
                boundaryGap: false,
                nameGap: 7,//坐标轴名称与轴线之间的距离。
                axisTick: {//是否显示坐标轴刻度。
                    inside: true//坐标轴刻度是否朝内，默认朝外。
                }

            },
            yAxis: {
                type: 'value'
            },
            tooltip: {},
            series: [{

                data: [63, 50, 48, 105, 21, 85, 107],
                type: 'line'

            
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option,true);
    }

    function drawPieChart(){
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('pie'), 'wonderland');
        // 指定图表的配置项和数据
        var option = {
            title: {
                text: 'Classification',
                textStyle:{
                    fontSize: 17,
                    color: 'rgba(128, 128, 128, 1)',
                    fontWeight: 'bold',
                    fontFamily: 'PingFang SC'
                }
            },
            tooltip: {
                trigger: 'item',
                formatter: '{b}: {c} ({d}%)'
            },
            legend: {
                orient: 'vertical',
                right: "15%",
                top: "35%",
                data: ['Eating', 'Clothing','Others']
            },


            series: [
                {   
                    center:["40%","60%"],
                    name: 'Kind',
                    type: 'pie',
                    radius: ['50%', '70%'],
                    avoidLabelOverlap: false,
                    label: {
                        show: false,
                        position: 'center'
                    },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: '22',
                            fontWeight: 'bold',
                        }
                    },
                    labelLine: {
                        show: false
                    },
                    data: [
                        {value: 4533, name: 'Eating'},
                        {value: 3321, name: 'Clothing'},
                        {value: 3113, name: 'Others'}
                    ],
                    right:"40%",
                }
            ]
        };
        myChart.setOption(option,true);
    }

    function drawLineChart1(){
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('line1'), 'wonderland');

        var arr = [];//用来存放最近七天的时间
        
        // 获取近一周时间
        function getBeforeDate(n) {
            var n = n;
            console.log(n);//
            var d = new Date();
            var year = d.getFullYear();
            var mon = d.getMonth() + 1;
            var day = d.getDate();
            if(day <= n) {
                if(mon > 1) {
                    mon = mon - 1;
                } else {
                    year = year - 1;
                    mon = 12;
                }
            }
            d.setDate(d.getDate() + n); //很重要，+n取得是前一天的时间
            year = d.getFullYear();
            mon = d.getMonth() + 1;
            day = d.getDate();
            s = (mon < 10 ? ('0' + mon) : mon) + "-" + (day < 10 ? ('0' + day) : day);
            return s;
        }
    
        for(var i = 0; i > -7; i--) {
            arr.push(getBeforeDate(i));
    
        }

        // 指定图表的配置项和数据
        var option = {
            title: {
                text: 'Income',
                textStyle:{
                    fontSize: 17,
                    color: 'rgba(128, 128, 128, 1)',
                    fontWeight: 'bold',
                    fontFamily: 'PingFang SC'
                }
            },
            grid:{
                y2: 20,
            },
            xAxis: {
                type: 'category',
                data: arr.reverse(),
                boundaryGap: false,
                nameGap: 7,//坐标轴名称与轴线之间的距离。
                axisTick: {//是否显示坐标轴刻度。
                    inside: true//坐标轴刻度是否朝内，默认朝外。
                }

            },
            yAxis: {
                type: 'value'
            },
            tooltip: {},
            series: [{

                data: [45440, 50, 50, 80, 50, 50, 12000],
                type: 'line'

            
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option,true);
    }
    function drawPieChart1(){
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('pie1'), 'wonderland');
        // 指定图表的配置项和数据
        var option = {
            title: {
                text: 'Classification',
                textStyle:{
                    fontSize: 17,
                    color: 'rgba(128, 128, 128, 1)',
                    fontWeight: 'bold',
                    fontFamily: 'PingFang SC'
                }
            },
            tooltip: {
                trigger: 'item',
                formatter: '{b}: {c} ({d}%)'
            },
            legend: {
                orient: 'vertical',
                right: "15%",
                top: "35%",
                data: ['Salary', 'Rent','Others']
            },


            series: [
                {   
                    center:["40%","60%"],
                    name: 'Kind',
                    type: 'pie',
                    radius: ['50%', '70%'],
                    avoidLabelOverlap: false,
                    label: {
                        show: false,
                        position: 'center'
                    },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: '22',
                            fontWeight: 'bold',
                        }
                    },
                    labelLine: {
                        show: false
                    },
                    data: [
                        {value: 45440, name: 'Salary'},
                        {value: 12000, name: 'Rent'},
                        {value: 3113, name: 'Others'}
                    ],
                    right:"40%",
                }
            ]
        };
        myChart.setOption(option,true);
    }

    this.drawLineChart()
    this.drawPieChart()
    this.drawLineChart1()
    this.drawPieChart1()



    


 </script>
</html>
